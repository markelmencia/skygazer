{
  "version": 3,
  "sources": ["../../geotiff/dist-module/compression/packbits.js"],
  "sourcesContent": ["import BaseDecoder from './basedecoder.js';\n\nexport default class PackbitsDecoder extends BaseDecoder {\n  decodeBlock(buffer) {\n    const dataView = new DataView(buffer);\n    const out = [];\n\n    for (let i = 0; i < buffer.byteLength; ++i) {\n      let header = dataView.getInt8(i);\n      if (header < 0) {\n        const next = dataView.getUint8(i + 1);\n        header = -header;\n        for (let j = 0; j <= header; ++j) {\n          out.push(next);\n        }\n        i += 1;\n      } else {\n        for (let j = 0; j <= header; ++j) {\n          out.push(dataView.getUint8(i + j + 1));\n        }\n        i += header + 1;\n      }\n    }\n    return new Uint8Array(out).buffer;\n  }\n}\n"],
  "mappings": ";;;;;;;;;AAAA,IAEqB;AAFrB;AAAA;AAAA;AAEA,IAAqB,kBAArB,cAA6C,YAAY;AAAA,MACvD,YAAY,QAAQ;AAClB,cAAM,WAAW,IAAI,SAAS,MAAM;AACpC,cAAM,MAAM,CAAC;AAEb,iBAAS,IAAI,GAAG,IAAI,OAAO,YAAY,EAAE,GAAG;AAC1C,cAAI,SAAS,SAAS,QAAQ,CAAC;AAC/B,cAAI,SAAS,GAAG;AACd,kBAAM,OAAO,SAAS,SAAS,IAAI,CAAC;AACpC,qBAAS,CAAC;AACV,qBAAS,IAAI,GAAG,KAAK,QAAQ,EAAE,GAAG;AAChC,kBAAI,KAAK,IAAI;AAAA,YACf;AACA,iBAAK;AAAA,UACP,OAAO;AACL,qBAAS,IAAI,GAAG,KAAK,QAAQ,EAAE,GAAG;AAChC,kBAAI,KAAK,SAAS,SAAS,IAAI,IAAI,CAAC,CAAC;AAAA,YACvC;AACA,iBAAK,SAAS;AAAA,UAChB;AAAA,QACF;AACA,eAAO,IAAI,WAAW,GAAG,EAAE;AAAA,MAC7B;AAAA,IACF;AAAA;AAAA;",
  "names": []
}
